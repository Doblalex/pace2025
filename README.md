# The (not-so) Bad Dominating Set Maker

This *Bad Dominating Set Maker* is an exact solver for the [2025 PACE challenge](https://pacechallenge.org/2025/)
on Dominating Set and, through its *Hitting Set Upgrade*, also for Hitting Set.
This project can be directly built with CMake to obtain the main binary `ogdf_dsexact`
(which can also solve Hitting Set instances)
and also the companion `ogdf_validate` that allows validating solutions generated by the former:

```shell
git clone https://github.com/Doblalex/pace2025.git
cd pace2025
git submodule update --init --recursive

mkdir build-release && pushd build-release
cmake .. # by default we have CMAKE_BUILD_TYPE=Release
make -j $(nproc)
popd

inst=instances/small/bremen_subgraph_20.gr
cat $inst | build-release/ogdf_dsexact | tee out.txt
cat out.txt | ./ogdf_validate $inst
```

Alternatively, see the `Dockerfile` for a containerized build:

```shell
docker build . -t pace25-bdsm
cat instances/small/bremen_subgraph_20.gr | docker run pace25-bdsm ogdf_dsexact
```

In its default configuration, the project depends on (slightly modified versions of) the
[OGDF](https://github.com/N-Coder/ogdf.git),
[htd](https://github.com/Doblalex/htd_for_pace2025.git), and
[EvalMaxSAT](https://github.com/Doblalex/EvalMaxSAT-pace2025.git).
All these dependencies are registered as git submodules in the `./ext` folder
and will be built in an appropriate configuration by the main CMakeFile.
See the commented-out `or-tools` module in `.gitmodules` and `ext/build-uwrmaxsat.sh` for
the other, alternative MaxSAT solvers that can be used instead of EvalMaxSAT.

## CMake Options

| Option                                                                             | Default                                | Description                                                                                                                      |
|------------------------------------------------------------------------------------|----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------|
| `PACE_USE_GUROBI`, `PACE_USE_EVALMAXSAT`, `PACE_USE_UWRMAXSAT`, `PACE_USE_ORTOOLS` | `PACE_USE_EVALMAXSAT=ON`, others `OFF` | select which MaxSAT solver to use, exactly one option needs to be `ON`                                                           |
| `PACE_SAT_CACHE`                                                                   | `OFF`                                  | whether to cache MaxSAT solution on the file system                                                                              |
| `PACE_LOG`                                                                         | `OFF`                                  | whether to enable debug logging                                                                                                  |
| `PACE_ARCH`,`OGDF_ARCH`                                                            | `native`                               | target architecture of the binary, use `haswell` for optil static binaries                                                       |
| `PACE_USE_ASAN`                                                                    | `OFF`                                  | whether to enable the [Google AddressSanitzer](https://github.com/google/sanitizers/wiki/AddressSanitizer)                       |
| `CMAKE_BUILD_TYPE`                                                                 | `Release`                              | the usual CMake `Release` or `Debug` build switch                                                                                |
| `CMAKE_INTERPROCEDURAL_OPTIMIZATION`                                               | `ON` for `Release`, otherwise `OFF`    | whether to perform further [optimization](https://en.wikipedia.org/wiki/Interprocedural_optimization) of the whole static binary |
| `BUILD_SHARED_LIBS`                                                                | `OFF` for `Release`, otherwise `ON`    | whether to statically or dynamically link dependencies                                                                           |
